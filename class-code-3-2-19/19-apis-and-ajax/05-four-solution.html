<!DOCTYPE html>
<html>
<head>
    <title></title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

</head>
<body>
    <div>loading...</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript">
    //FROM HERE down we're doing the top header of the table
    
    var table = $('<table>').addClass('table');
        // <table class="table"></table>
        // this is not on the page yet

        var thead = $('<thead>');
            // <thead></thead>

            var tr = $('<tr>');
                // <tr></tr>

                var thm = $('<th>').text('Movie Name');
                    //<th>Movie Name</th>
                var thy = $('<th>').text('Year');
                var tha = $('<th>').text('Actors');

            tr.append(thm, thy, tha);
                // <tr>
                //     <th>Movie Name</th>
                //     <th>Year</th>
                //     <th>Actors</th>
                // </tr>
                    // this is what the tr looks like right now

            thead.append(tr);
                // <thead>
                    // <tr>
                    //     <th>Movie Name</th>
                    //     <th>Year</th>
                    //     <th>Actors</th>
                    // </tr>
                // </thead>

            table.append(thead);
                // <table class="table">
                    // <thead>
                        // <tr>
                        //     <th>Movie Name</th>
                        //     <th>Year</th>
                        //     <th>Actors</th>
                        // </tr>
                    // </thead>
                // </table>

    //FROM HERE DOWN we're putting the movie rows into the table

        var tbody = $('<tbody>');
            // <thead></thead>

    function addMovieRow(m){
        $.ajax({
          url: "https://www.omdbapi.com/?t=" + m + "&y=&plot=short&apikey=trilogy",
          method: "GET"
        }).then(function(response) {
            var tr = $('<tr>');

                var tdm = $('<td>').text(response.Title);
                var tdy = $('<td>').text(response.Year);
                var tda = $('<td>').text(response.Actors);

            tr.append(tdm, tdy, tda);
            tbody.append(tr);
        });
    }

    addMovieRow('inception');
    addMovieRow('lion king');
    addMovieRow('mr nobody');
    addMovieRow('home alone');
    addMovieRow('home alone 2');

    setTimeout(function(){
        $('div').hide();

        table.append(tbody);

        $('body').append(table);
    }, 1000);
    

    
</script>
</body>
</html>